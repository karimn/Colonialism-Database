<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Peanut Search >> Education Data >> Search</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<link rel="stylesheet" media="screen" type="text/css" href="/static/css/peanut.css" />
	<link rel="stylesheet" media="screen" type="text/css" href="/static/css/dark-hive/jquery-ui-1.8.11.custom.css" />
	<link rel="stylesheet" media="screen" type="text/css" href="/static/css/jquery.autocomplete.css" />	
	<script src="http://code.jquery.com/jquery-1.5.min.js" type="text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.js" type="text/javascript"></script>
	<script src="http://jquery.bassistance.de/autocomplete/jquery.autocomplete.js" type="text/javascript"></script>
</head>
<body>
	<script type="text/javascript">
		$(function() {
			$( "#startdate" ).datepicker({ dateFormat: 'yy-mm-dd' });
			$( "#enddate" ).datepicker({ dateFormat: 'yy-mm-dd' });
		});
	</script>
	</script>
	<div id="links"><span id="tag">Search: </span>| <a href="../government">Politics</a> | <a href="../education">Education</a> | <a href="../population">Demography/Health</a> | <a href="../economics">Economics</a> | <a href="../infrastructure">Infrastructure</a>||</div>
	<div id="form" align="center">
		<form action='education' method='get'>
				Start date:  <input type="text" id="startdate" name="startdate" value="{{ startdate|escape }}" />
				End date:  <input type="text" id="enddate" name="enddate" value="{{ enddate|escape }}" />
			<br /><br /><br />
			Source:  <input type="text" id="sourceinput" name="sourceinput" value = "{{ sourceinput|escape }}" />
			<br /><br /><br />
			Location:  <input type="text" id="locations" name="locations" value = "{{ searchlocations|escape }}" />
			<script>
				$(function(){
		   			function formatItem(row) {
						return row;
					}
					function formatResult(row) {
						//return row.replace(/(<.+?>)/gi, '');
						return row
					}  			
		   			
		   			$("#locations").autocomplete('{% url government.views.locationlookup %}', {		   			
						width: 320,
						max: 10,
						cacheLength: 10,
						highlight: false,
						multiple: true,
						multipleSeparator: ", ",
						scroll: true,
						scrollHeight: 300,
						dataType: 'json',
						formatItem: formatItem,
						formatResult: formatResult,
						parse: function(data) {
								return $.map(data, function(row) {
									return { data:row, value:row, result:row };
								});
							}}).result(
								function(e, row, data) {
		               				$("#locations").val = row;
		           				});	      
			   		});	
			</script>
			<br /><br /><br />
			<input type='submit' name='search' value='Search' />
		</form>
	</div>
<div id="results">
		{% if results %}
		<table>				
			<tr><td>ID</td><td>Page No</td><td>Source</td><td>Begin Date</td><td>End Date</td><td>Date Precision</td><td>Location</td><td>Original Location name</td><td>Alternate Location Name</td><td>Is Total ?</td><td>Value -  Units</td><td>Rremarks</td><td>Spatial Area</td><td>Spatial Area Units</td><td>Currency</td><td>Currency Exchange Rate</td><td>Education Expenditure</td><td>Education Expenditure Type</td><td>Is Total Expenditure ?</td><td>No of Schools</td><td>Is Total Schools ?</td><td>School Type</td><td>Public/Private</td><td>Rel Sec</td><td>No of Students</td><td>Student Gender</td><td>Is Total Students ?</td><td>No of Teachers</td><td>Teacher Gender</td><td>Is Total Teachers</td><td>Created (Datetime)</td><td>Primary Source Text</td><td>Primary Source Object</td></tr>
			{% for data in results.objects_list %}
				<tr><td>{{ data.id }}</td><td>{{ data.page_num }}</td><td>{{ data.source }}</td><td>{{ data.begin_date }}</td><td>{{ data.end_date }}</td>
				{% if not data.circa %}<td></td>
					{% else %}<td>{{ data.circa }}</td>
				{% endif %}
				<td>{{ data.location }}</td><td>{{ data.original_location_name }}</td><td>{{ data.alternate_location_name }}</td><td>{{ data.is_total }}</td><td>{{ data.value_unit }}</td><td>{{ data.remarks }}</td><td>{{ data.spatial_area }}</td><td>{{ data.spatial_area_unit }}</td><td>{{ data.currency }}</td><td>{{ data.currency_exchange_rate }}</td><td>{{ data.education_expenditure }}</td><td>{{ data.education_expenditure_type }}</td><td>{{ data.is_total_expenditure }}</td><td>{{ data.num_schools }}</td><td>{{ data.is_total_schools }}</td><td>{{ data.school_type }}</td><td>{{ data.pub_priv }}</td><td>{{ data.rel_sec }}</td><td>{{ data.num_students }}</td><td>{{ data.student_gender }}</td><td>{{ data.is_total_students }}</td><td>{{ data.num_teachers }}</td><td>{{ data.teacher_gender }}</td><td>{{ data.is_total_teachers }}</td><td>{{ data.datetime_created }}</td><td>{{ data.primary_source_text }}</td><td>{{ data.primary_source_obj }}</td></tr>
			{% endfor %}
			</table>
<div class="pagination">
			<span class="step-links">
				<span><a href="?search={{ search }}&page=1&startdate={{ startdate }}&enddate={{ enddate }}&locations={{ searchlocations }}&sourceinput={{ sourceinput }}">first&nbsp;&nbsp;</a></span>
				{% if results.has_previous %}
					<a href="?search={{ search }}&page={{ results.previous_page_number }}&startdate={{ startdate }}&enddate={{ enddate }}&locations={{ searchlocations }}&sourceinput={{ sourceinput }}"><span class="pagination-text-right">previous</span></a>
				{% endif %}
			<span class="current">
				Page {{ results.number }} of {{ results.paginator.num_pages }}.
			</span>
				{% if results.has_next %}
					<a href="?search={{ search }}&page={{ results.next_page_number }}&startdate={{ startdate }}&enddate={{ enddate }}&locations={{ searchlocations }}&sourceinput={{ sourceinput }}"><span class="pagination-text-left">next</span></a>
				{% endif %}
				<span><a href="?search={{ search }}&page={{ results.paginator.num_pages }}&startdate={{ startdate }}&enddate={{ enddate }}&locations={{ searchlocations }}&sourceinput={{ sourceinput }}">&nbsp;&nbsp;last</a></span>
			</span>
		{% endif %}
	</div>
</body>
</html>
